<!DOCTYPE html>
<html lang="en">
<head>
    <title>Products</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="antialiased bg-body text-body font-body">
    <div class="">

        <section class="relative py-10">
            <div class="container px-4 mx-auto">
                <div class="text-right py-2">
                    <span class="text-red-600 underline decoration-solid"><a href="/logout">Logout</a></span>
                </div>
                <div class="max-w-3xl mb-20 mx-auto text-center">
                    <span class="text-xs text-blue-400 font-semibold"><a href="/products/create">New Product</a></span>
                    <h2 class="mt-8 mb-10 text-4xl font-semibold font-heading">List of Products</h2>
                </div>
                <div class="flex flex-wrap -m-3 mb-16">

                    {% for product in products %}
                        <div class="w-full md:w-1/2 lg:w-1/3 p-3">
                            <div class="p-6 border rounded-xl">
                            <div class="relative h-52 mb-6">
                                <span class="absolute top-0 right-0 mt-4 mr-4 text-xs text-white px-2 py-1 font-semibold bg-gray-600 bg-opacity-50 rounded-md uppercase">Category</span>
                                <img class="w-full h-full object-cover rounded-lg"
                                    src="https://images-codigofacilito.s3.us-west-1.amazonaws.com/images/thumb_default.jpg"
                                    alt=""
                                >
                            </div>
                            <span class="inline-block mb-4 text-xs text-gray-500">{{ product.created_at }}</span>
                            <h2 class="mb-4 text-2xl font-semibold font-heading">{{ product.name }}</h2>
                            <p class="mb-4 text-gray-500 leading-relaxed">{{ product.price_format }} </p>
                            <a class="text-lg font-medium text-yellow-500 underline hover:no-underline" href="/products/update/{{ product.id }}">Edit</a>
                            <a class="text-lg font-medium text-red-500 underline hover:no-underline" href="/products/delete/{{ product.id }}">Delete</a>
                            </div>
                        </div>
                    {% endfor %}

                </div>
                {% for message in get_flashed_messages() %}
                    <div class="mb-4 flex items-center justify-between p-4 bg-blue-50 border-l-4 border-blue-500 text-blue-700 rounded">
                        <div class="flex items-center">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        <span>{{ message }}</span>
                        </div>
                        <button onclick="this.parentElement.remove()" class="text-blue-700 hover:text-blue-900">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                        </button>
                    </div>
                {% endfor %}
            </div>
        </section>

    </div>
</body>
</html>